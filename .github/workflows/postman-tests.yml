name: Run Postman Integration Tests

on:
  workflow_dispatch:  # manual trigger
  # schedule:
  #   - cron: '0 2 * * *'  # Optional: Run daily at 2 AM UTC

jobs:
  postman-tests:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout repository
        uses: actions/checkout@v4

      - name: Run Postman tests
        uses: matt-ball/newman-action@v1
        with:
          collection: tests/integration-tests.postman_collection.json
          environment: tests/integration-env.postman_environment.json
